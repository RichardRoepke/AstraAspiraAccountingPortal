%aside.main-sidebar
  %section.sidebar
    %ul.sidebar-menu{ data: {widget: 'tree' } }
      %li.header Main Navigation
      - if current_user.present?
        %li.treeview{class: ("active" if @sidebar.starts_with?("reports"))}
          = link_to "#" do
            %i.fa.fa-archive
            %span Reports
            %span.pull-right-container
              %i.fa.fa-angle-left.pull-right
          %ul.treeview-menu
            %li{class: ("active" if @sidebar.eql?("reports:index"))}
              = link_to reports_path do
                = icon "list"
                %span List
            - if @report.present?
              %li{class: ("active" if @sidebar.eql?("reports:info"))}
                = link_to report_path(@report) do
                  %i.fa.fa-info-circle
                  %span Info
        - if current_user.admin?
          %li.treeview{class: ("active" if @sidebar.starts_with?("parks"))}
            = link_to "#" do
              = icon 'bed'
              %span Parks
              %span.pull-right-container
                %i.fa.fa-angle-left.pull-right
            %ul.treeview-menu
              %li{class: ("active" if @sidebar.eql?("parks:index"))}
                = link_to admin_parks_path do
                  = icon "list"
                  %span List
              %li{class: ("active" if @sidebar.eql?("parks:new"))}
                = link_to new_admin_park_path do
                  %i.fa.fa-plus-circle
                  %span New
              - if @park.present?
                %li{class: ("active" if @sidebar.eql?("parks:info"))}
                  = link_to admin_park_path(@park) do
                    %i.fa.fa-info-circle
                    %span Info
          %li.treeview{class: ("active" if @sidebar.starts_with?("users"))}
            = link_to "#" do
              %i.fa.fa-users
              %span Users
              %span.pull-right-container
                %i.fa.fa-angle-left.pull-right
            %ul.treeview-menu
              %li{class: ("active" if @sidebar.eql?("users:index"))}
                = link_to admin_users_path do
                  = icon "list"
                  %span List
              %li{class: ("active" if @sidebar.eql?("users:new"))}
                = link_to new_admin_park_path do
                  %i.fa.fa-plus-circle
                  %span New
              - if @user.present?
                %li{class: ("active" if @sidebar.eql?("users:info"))}
                  = link_to admin_user_path(@user) do
                    %i.fa.fa-info-circle
                    %span Info